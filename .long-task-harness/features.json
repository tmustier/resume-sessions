{
  "version": "2.0",
  "description": "Feature checklist with history tracking for session continuity",
  "metadata": {
    "project_name": "resume-sessions",
    "created": "2025-12-27",
    "last_updated": "2025-12-27",
    "total_features": 8,
    "completed_features": 7
  },
  "features": [
    {
      "id": "core-001",
      "name": "Session title storage",
      "description": "Store session titles in .resume-sessions/sessions.json",
      "steps": [
        "Load/save sessions from JSON file",
        "Get session by ID (create if not exists)",
        "Update title (append if different)",
        "Format titles for display"
      ],
      "passes": true,
      "notes": "Core functionality implemented and tested",
      "history": {
        "sessions": [
          {
            "session": 1,
            "date": "2025-12-27",
            "action": "completed",
            "summary": "Initial implementation"
          }
        ],
        "files": [
          "src/resume_sessions/__init__.py",
          "tests/test_sessions.py"
        ],
        "decisions": []
      }
    },
    {
      "id": "core-002",
      "name": "CLI commands",
      "description": "Command-line interface for managing session titles",
      "steps": [
        "title command - set/update title",
        "show command - display title history",
        "list command - list all sessions",
        "install command - install hooks"
      ],
      "passes": true,
      "notes": "Basic CLI implemented",
      "history": {
        "sessions": [
          {
            "session": 1,
            "date": "2025-12-27",
            "action": "completed",
            "summary": "Initial implementation"
          }
        ],
        "files": [
          "src/resume_sessions/__init__.py"
        ],
        "decisions": []
      }
    },
    {
      "id": "hook-001",
      "name": "Pi agent hook",
      "description": "Hook that auto-titles sessions from git commit messages",
      "steps": [
        "Detect git commit in tool_result",
        "Extract commit message from -m flag",
        "Save to .resume-sessions/sessions.json",
        "Update terminal tab title"
      ],
      "passes": true,
      "notes": "Simplified to use commit message directly instead of prompting LLM",
      "history": {
        "sessions": [
          {
            "session": 1,
            "date": "2025-12-27",
            "action": "started",
            "summary": "Initial prompting approach"
          },
          {
            "session": 2,
            "date": "2025-12-27",
            "action": "completed",
            "summary": "Simplified to use commit messages"
          }
        ],
        "files": [
          "hooks/pi/resume-sessions.ts"
        ],
        "decisions": [
          {
            "session": 2,
            "decision": "Use commit message as title instead of prompting LLM - simpler and avoids timing issues"
          }
        ]
      }
    },
    {
      "id": "hook-002",
      "name": "Claude Code hook",
      "description": "Hook for Claude Code using settings.json hooks",
      "steps": [
        "Implement PreToolUse/PostToolUse hooks",
        "Detect git commit commands",
        "Extract commit message",
        "Save title to sessions.json"
      ],
      "passes": false,
      "notes": "Not started",
      "history": {
        "sessions": [],
        "files": [],
        "decisions": []
      }
    },
    {
      "id": "display-001",
      "name": "Enhanced resume display",
      "description": "Show titles in agent --resume list",
      "steps": [
        "Read .resume-sessions/sessions.json",
        "Format title history line",
        "Show commit count",
        "PR to Pi/Claude Code to integrate"
      ],
      "passes": true,
      "notes": "Implemented resume command that shows sessions with titles",
      "history": {
        "sessions": [
          {
            "session": 2,
            "date": "2025-12-27",
            "action": "completed",
            "summary": "Added resume CLI command"
          }
        ],
        "files": [
          "src/resume_sessions/__init__.py",
          "tests/test_sessions.py"
        ],
        "decisions": []
      }
    },
    {
      "id": "terminal-001",
      "name": "Terminal tab title",
      "description": "Update terminal tab title on session title change",
      "steps": [
        "Use ANSI escape sequence OSC 0",
        "Call on title update",
        "Works in common terminals"
      ],
      "passes": true,
      "notes": "Implemented in Pi hook, updates tab on each commit",
      "history": {
        "sessions": [
          {
            "session": 2,
            "date": "2025-12-27",
            "action": "completed",
            "summary": "Works via ANSI escape in hook"
          }
        ],
        "files": [
          "hooks/pi/resume-sessions.ts"
        ],
        "decisions": []
      }
    },
    {
      "id": "cli-001",
      "name": "Enhanced CLI display",
      "description": "Improved resume display with relative time and message preview",
      "steps": [
        "Add format_relative_time() for human-readable timestamps",
        "Add parse_session_file() to extract first message",
        "Add format_resume_line_enhanced() for multi-line output",
        "Add --simple flag for single-line format"
      ],
      "passes": true,
      "notes": "Multi-line format with title, first message, and metadata",
      "history": {
        "sessions": [
          {
            "session": 3,
            "date": "2025-12-27",
            "action": "completed",
            "summary": "Enhanced display format matching README spec"
          }
        ],
        "files": [
          "src/resume_sessions/__init__.py",
          "tests/test_sessions.py"
        ],
        "decisions": [
          {
            "session": 3,
            "decision": "Multi-line format: title (bold), first message (dim), metadata (dim)"
          }
        ]
      }
    },
    {
      "id": "cli-002",
      "name": "Interactive session selector",
      "description": "TUI for browsing and selecting sessions",
      "steps": [
        "Add fuzzy search across project/message/title",
        "Add keyboard navigation (up/down/enter/escape/q)",
        "Add --interactive/-i flag",
        "Add --run flag to execute pi --resume"
      ],
      "passes": true,
      "notes": "Uses rich for rendering, termios for raw input",
      "history": {
        "sessions": [
          {
            "session": 3,
            "date": "2025-12-27",
            "action": "completed",
            "summary": "Interactive mode with search and keyboard navigation"
          }
        ],
        "files": [
          "src/resume_sessions/__init__.py",
          "tests/test_sessions.py",
          "pyproject.toml"
        ],
        "decisions": [
          {
            "session": 3,
            "decision": "Use rich library for TUI - lightweight and well-known"
          }
        ]
      }
    }
  ]
}
